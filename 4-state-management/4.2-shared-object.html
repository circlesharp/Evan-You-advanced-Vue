<script src="../node_modules/vue/dist/vue.js"></script>

<div id="app">
  <counter></counter>
  <counter></counter>
  <counter></counter>
  <button @click="inc">increment</button>
</div>

<script>
// create a counter component (that doesn't take any props)
// all instances of it should share the same count state
// and a button that increments all counters at the same time

// 这个对象将会被 observe
const state = {
  cnt: 0
}

// 声明组件
// const Counter = {
//   template: `<div>{{ cnt }}</div>`,
//   data: () => state
// }

// 使用 render 替代 template
const Counter = {
  data: () => state,
  render (h) {
    return h('div', this.cnt)
  }
}

const vm = new Vue({
  el: '#app',
  components: { Counter },
  methods: {
    inc () {
      state.cnt++
    }
  }
})

</script>
